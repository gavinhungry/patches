diff -ru npm.ORIG/src/cli-6.14.6/lib/install/action/postinstall.js npm/src/cli-6.14.6/lib/install/action/postinstall.js
--- npm.ORIG/src/cli-6.14.6/lib/install/action/postinstall.js	2020-05-20 23:29:41.955266349 -0700
+++ npm/src/cli-6.14.6/lib/install/action/postinstall.js	2020-05-20 23:30:41.127618966 -0700
@@ -1,8 +1,17 @@
 'use strict'
 var lifecycle = require('../../utils/lifecycle.js')
 var packageId = require('../../utils/package-id.js')
+var npm = require('../../npm.js')
+
+var ignore_postinstall = (
+  npm.config.get('ignore-postinstall') || ''
+).split(',').filter(Boolean).map(s => s.trim())
 
 module.exports = function (staging, pkg, log, next) {
+  if (ignore_postinstall.includes(pkg.name)) {
+    return next()
+  }
+
   log.silly('postinstall', packageId(pkg))
   lifecycle(pkg.package, 'postinstall', pkg.path, next)
 }
