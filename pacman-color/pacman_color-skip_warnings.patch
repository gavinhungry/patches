--- aur/pacman-color/pacman-color-4.0.3.patch.ORIG	2012-10-22 22:08:01.687276758 -0700
+++ aur/pacman-color/pacman-color-4.0.3.patch	2012-10-22 22:09:43.720114256 -0700
@@ -833,7 +833,7 @@
  	va_end(args);
  
  	return ret;
-@@ -1474,22 +1488,42 @@ int pm_vasprintf(char **string, alpm_log
+@@ -1474,22 +1488,44 @@ int pm_vasprintf(char **string, alpm_log
  	ret = vasprintf(&msg, format, args);
  
  	/* print a prefix to the message */
@@ -859,6 +859,7 @@
 +				pm_asprintf(string, "%s%s%s%s", colortab.red, _("error: "), colortab.none, msg);
 +				break;
 +			case ALPM_LOG_WARNING:
++				if (strstr(format, "ignoring package upgrade") || strstr(format, "is newer than")) return 1;
 +				pm_asprintf(string, "%s%s%s%s", colortab.yellow, _("warning: "), colortab.none, msg);
 +				break;
 +			case ALPM_LOG_DEBUG:
@@ -877,6 +878,7 @@
 +				pm_asprintf(string, _("error: %s"), msg);
 +				break;
 +			case ALPM_LOG_WARNING:
++				if (strstr(format, "ignoring package upgrade") || strstr(format, "is newer than")) return 1;
 +				pm_asprintf(string, _("warning: %s"), msg);
 +				break;
 +			case ALPM_LOG_DEBUG:
@@ -892,7 +894,7 @@
  	}
  	free(msg);
  
-@@ -1524,10 +1558,10 @@ int pm_vfprintf(FILE *stream, alpm_logle
+@@ -1524,10 +1558,11 @@ int pm_vfprintf(FILE *stream, alpm_logle
  	/* print a prefix to the message */
  	switch(level) {
  		case ALPM_LOG_ERROR:
@@ -901,6 +903,7 @@
  			break;
  		case ALPM_LOG_WARNING:
 -			fprintf(stream, _("warning: "));
++			if (strstr(format, "ignoring package upgrade") || strstr(format, "is newer than")) return 1;
 +			color_fprintf(stream, COLOR_YELLOW_ALL, _("warning: "));
  			break;
  		case ALPM_LOG_DEBUG:
